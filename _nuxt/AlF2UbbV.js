const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BUvzSRh6.js","./C0d0qc6j.js","./entry.6Oi0TZgZ.css","./C-v3KzvZ.js","./COp-Y6Bu.js","./DvDH6DOc.js"])))=>i.map(i=>d[i]);
import{a5 as L,a6 as p,r as D,R as j,K as q,F,a7 as I,G as Q,Q as K,a8 as E,a9 as M,aa as V,k as H,ab as N,a0 as g,ac as U,ad as G,ae as k,a3 as z}from"./C0d0qc6j.js";import{h as O}from"./DvDH6DOc.js";import{u as B}from"./COp-Y6Bu.js";const A=e=>e==="defer"||e===!1;function ie(...e){var $;const a=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(a);let[r,i,t={}]=e;if(typeof r!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=L(),n=i,u=()=>p.value,f=()=>s.isHydrating?s.payload.data[r]:s.static.data[r];t.server??(t.server=!0),t.default??(t.default=u),t.getCachedData??(t.getCachedData=f),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=p.deep),t.dedupe??(t.dedupe="cancel");const y=t.getCachedData(r,s),w=y!=null;if(!s._asyncData[r]||!t.immediate){($=s.payload._errors)[r]??($[r]=p.errorValue);const l=t.deep?D:j;s._asyncData[r]={data:l(w?y:t.default()),pending:D(!w),error:q(s.payload._errors,r),status:D("idle"),_default:t.default}}const o={...s._asyncData[r]};delete o._default,o.refresh=o.execute=(l={})=>{if(s._asyncDataPromises[r]){if(A(l.dedupe??t.dedupe))return s._asyncDataPromises[r];s._asyncDataPromises[r].cancelled=!0}if(l._initial||s.isHydrating&&l._initial!==!1){const d=l._initial?y:t.getCachedData(r,s);if(d!=null)return Promise.resolve(d)}o.pending.value=!0,o.status.value="pending";const m=new Promise((d,c)=>{try{d(n(s))}catch(_){c(_)}}).then(async d=>{if(m.cancelled)return s._asyncDataPromises[r];let c=d;t.transform&&(c=await t.transform(d)),t.pick&&(c=J(c,t.pick)),s.payload.data[r]=c,o.data.value=c,o.error.value=p.errorValue,o.status.value="success"}).catch(d=>{if(m.cancelled)return s._asyncDataPromises[r];o.error.value=V(d),o.data.value=H(t.default()),o.status.value="error"}).finally(()=>{m.cancelled||(o.pending.value=!1,delete s._asyncDataPromises[r])});return s._asyncDataPromises[r]=m,s._asyncDataPromises[r]},o.clear=()=>W(s,r);const P=()=>o.refresh({_initial:!0}),C=t.server!==!1&&s.payload.serverRendered;{const l=F();if(l&&C&&t.immediate&&!l.sp&&(l.sp=[]),l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const c=l._nuxtOnBeforeMountCbs;I(()=>{c.forEach(_=>{_()}),c.splice(0,c.length)}),Q(()=>c.splice(0,c.length))}C&&s.isHydrating&&(o.error.value||y!=null)?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):l&&(s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?l._nuxtOnBeforeMountCbs.push(P):t.immediate&&P();const m=M();if(t.watch){const c=K(t.watch,()=>o.refresh());m&&E(c)}const d=s.hook("app:data:refresh",async c=>{(!c||c.includes(r))&&await o.refresh()});m&&E(d)}const b=Promise.resolve(s._asyncDataPromises[r]).then(()=>o);return Object.assign(b,o),b}function W(e,a){a in e.payload.data&&(e.payload.data[a]=void 0),a in e.payload._errors&&(e.payload._errors[a]=p.errorValue),e._asyncData[a]&&(e._asyncData[a].data.value=void 0,e._asyncData[a].error.value=p.errorValue,e._asyncData[a].pending.value=!1,e._asyncData[a].status.value="idle"),a in e._asyncDataPromises&&(e._asyncDataPromises[a]&&(e._asyncDataPromises[a].cancelled=!0),e._asyncDataPromises[a]=void 0)}function J(e,a){const r={};for(const i of a)r[i]=e[i];return r}const S=(e,a)=>a.split(".").reduce((r,i)=>r&&r[i],e),v=(e,a)=>Object.keys(e).filter(a).reduce((r,i)=>Object.assign(r,{[i]:e[i]}),{}),oe=e=>a=>e&&e.length?v(a,r=>!e.includes(r)):a,ce=e=>a=>Array.isArray(a)?a.map(r=>e(r)):e(a),x=e=>{const a=[],r=[];for(const i of e)["$","_"].includes(i)?a.push(i):r.push(i);return{prefixes:a,properties:r}},ue=(e=[])=>a=>{if(e.length===0||!a)return a;const{prefixes:r,properties:i}=x(e);return v(a,t=>!i.includes(t)&&!r.includes(t[0]))},le=(e=[])=>a=>{if(e.length===0||!a)return a;const{prefixes:r,properties:i}=x(e);return v(a,t=>i.includes(t)||r.includes(t[0]))},fe=(e,a)=>{const r=new Intl.Collator(a.$locale,{numeric:a.$numeric,caseFirst:a.$caseFirst,sensitivity:a.$sensitivity}),i=Object.keys(a).filter(t=>!t.startsWith("$"));for(const t of i)e=e.sort((s,n)=>{const u=[S(s,t),S(n,t)].map(f=>{if(f!==null)return f instanceof Date?f.toISOString():f});return a[t]===-1&&u.reverse(),r.compare(u[0],u[1])});return e},de=(e,a="Expected an array")=>{if(!Array.isArray(e))throw new TypeError(a)},h=e=>Array.isArray(e)?e:[void 0,null].includes(e)?[]:[e],X=["sort","where","only","without"];function Y(e,a={}){const r={};for(const n of Object.keys(a.initialParams||{}))r[n]=X.includes(n)?h(a.initialParams[n]):a.initialParams[n];const i=(n,u=f=>f)=>(...f)=>(r[n]=u(...f),s),t=n=>{var u;return a.legacy?n!=null&&n.surround?n.surround:n&&(n!=null&&n.dirConfig&&(n.result={_path:(u=n.dirConfig)==null?void 0:u._path,...n.result,_dir:n.dirConfig}),n!=null&&n._path||Array.isArray(n)||!Object.prototype.hasOwnProperty.call(n,"result")?n:n==null?void 0:n.result):n},s={params:()=>({...r,...r.where?{where:[...h(r.where)]}:{},...r.sort?{sort:[...h(r.sort)]}:{}}),only:i("only",h),without:i("without",h),where:i("where",n=>[...h(r.where),...h(n)]),sort:i("sort",n=>[...h(r.sort),...h(n)]),limit:i("limit",n=>parseInt(String(n),10)),skip:i("skip",n=>parseInt(String(n),10)),find:()=>e(s).then(t),findOne:()=>e(i("first")(!0)).then(t),count:()=>e(i("count")(!0)).then(t),locale:n=>s.where({_locale:n}),withSurround:i("surround",(n,u)=>({query:n,...u})),withDirConfig:()=>i("dirConfig")(!0)};return a.legacy&&(s.findSurround=(n,u)=>s.withSurround(n,u).find().then(t)),s}function T(e){return JSON.stringify(e,Z)}function Z(e,a){return a instanceof RegExp?`--REGEX ${a.toString()}`:a}const ee=e=>{let a=T(e);return a=typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a),a=a.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),(a.match(/.{1,100}/g)||[]).join("/")},R=e=>N(e,g().public.content.api.baseURL),he=()=>{throw console.warn("useContent is only accessible when you are using `documentDriven` mode."),console.warn("Learn more by visiting: https://content.nuxt.com/document-driven"),new Error("useContent is only accessible when you are using `documentDriven` mode.")},ae=()=>{const{experimental:e}=g().public.content;return e.clientDB?!0:B().isEnabled()},te=()=>async e=>{const{content:a}=g().public,r=e.params(),i=a.experimental.stripQueryParameters?R(`/query/${`${O(r)}.${a.integrity}`}/${ee(r)}.json`):R(`/query/${O(r)}.${a.integrity}.json`);if(ae())return(await z(()=>import("./BUvzSRh6.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(n=>n.useContentDatabase())).fetch(e);const t=await $fetch(i,{method:"GET",responseType:"json",params:a.experimental.stripQueryParameters?void 0:{_params:T(r),previewToken:B().getPreviewToken()}});if(typeof t=="string"&&t.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return t};function ye(e,...a){const{content:r}=g().public,i=Y(te(),{initialParams:typeof e!="string"?e:{},legacy:!0});let t;typeof e=="string"&&(t=U(G(e,...a)));const s=i.params;return i.params=()=>{var u,f,y;const n=s();return t&&(n.where=n.where||[],n.first&&(n.where||[]).length===0?n.where.push({_path:k(t)}):n.where.push({_path:new RegExp(`^${t.replace(/[-[\]{}()*+.,^$\s/]/g,"\\$&")}`)})),(u=n.sort)!=null&&u.length||(n.sort=[{_stem:1,$numeric:!0}]),r.locales.length&&((y=(f=n.where)==null?void 0:f.find(o=>o._locale))!=null&&y._locale||(n.where=n.where||[],n.where.push({_locale:r.defaultLocale}))),n},i}export{ie as a,h as b,de as c,ce as d,ee as e,fe as f,S as g,ue as h,le as i,T as j,Y as k,oe as o,ye as q,ae as s,he as u,R as w};
